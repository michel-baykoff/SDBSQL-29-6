# Домашнее задание к занятию "`Репликация и масштабирование. Часть 1`" - `Байков Михаил`

### Задание 1

На лекции рассматривались режимы репликации master-slave, master-master, опишите их различия.

*Ответить в свободной форме.*

Основным отличием можно выделить запись данных. В режиме мастер-ведомый и мастер-мастер чтение может производиться с любой ноды. 
Однако запись на любую из нод возможна только в режиме мастер-мастер. В режиме мастер-ведомый запись производится только на ноду имеющую роль мастера.


---

### Задание 2

Выполните конфигурацию master-slave репликации, примером можно пользоваться из лекции.

*Приложите скриншоты конфигурации, выполнения работы: состояния и режимы работы серверов.*

Для выполнения задания был использован Docker Compose ([файл](./src/docker-compose.yaml)).

1. Поднимаем две ноды MySQL и проверяем что они запустились.
![docker compose up -d](./img/img01.png)

2. Используем [SQL-скрипт](/src/master.sql) для создания пользователя репликации, выдачи прав и проверки мастер статуса.
![master.sql](./img/img02.png)

3. Берем из вывода предыдущего скрипта данные и переносим в скрипт для реплики. Выполняем [SQL-скрипт](./src/slave.sql) для настройки реплики. Смотрим статус репликации.
![slave.sql](./img/img03.png)

4. Создаем при помощи [SQL-скрипта](./src/master_table.sql) таблицу fio с тестовой строкой в бд sakila.
![master_table.sql](./img/img04.png)

5. При помощи [SQL-скрипта](./src/slave_table.sql) смотрим синхронизировалась ли созданная тестовая таблица и данные.
![slave_table.sql](./img/img05.png)

6. Данные успешно реплицировались. Репликация настроена и корректно работает.

